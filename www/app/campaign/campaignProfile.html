<ion-view title="Campaign">
  <ion-nav-buttons side="right">
    <button ng-if="isOwner(campaign)" ng-click="editCampaign(campaign)" class="button button-clear">Edit</button>
  </ion-nav-buttons>
  <ion-content overflow-scroll="true" padding="'true'" class="has-header">
    <h1 style="text-align: center">{{campaign.title}}</h1>

        <img style="width:100%" ng-src="{{campaign.picture_url}}">

    <div class="card">
      <div class="meter">
        <span style="width: 25%"></span>
      </div>
    </div>
    <div class="card">
      <div class="item item-icon-right" href="#">
        Follow
        <i id="like" ng-class="{'icon ion-ios7-heart': campaign.following, 'icon ion-ios7-heart-outline': !campaign.following}" ng-click="followCampaign(campaign)"></i>
      </div>
      <div class="item item-text-wrap update">
        <p>{{campaign.description}}</p>
      </div>
    </div>
    <!-- supplies list -->
    <div class="item" ng-if="campaign.volunteers">
      <h2>Volunteers Needed</h2>
        <p><span ng-repeat="volunteer in campaign.volunteers">
          {{ volunteer.name}}: <b>{{ volunteer.quantity }}</b>
        </span></p>
      </div>
    </div>

    <!-- supplies list -->
    <div class="item" ng-if="campaign.items">
      <h2>Supplies Needed</h2>
        <p><span ng-repeat="item in campaign.items">
          {{ item.name}}: <b>{{ item.quantity }}</b>
        </span></p>
      </div>
    </div>

    <!-- comments list -->
    <div class="list" >
      <div class="item item-avatar" href="#" ng-repeat="comment in campaign.comments | orderBy:'-created_at'">
        <img ng-src="{{comment.profile_pic}}">
        <h2>{{comment.text}}</h2>
        <h3>{{comment.username}}</h3>
        <p>{{comment.created_at | date:'short' }}</p>
      </div>
    </div>

    <!-- contribution list -->
    <div class="list" >
      <div class="item item-avatar" href="#" ng-repeat="comment in campaign.comments | orderBy:'-created_at'">
        <img ng-src="{{comment.profile_pic}}">
        <h2>{{comment.username}}</h2>
        <h1>$125</h1>
        <p>{{comment.created_at | date:'short' }}</p>
      </div>
    </div>
    
    <div>
      <h3 style="text-align: center">Join this campaign:</h3>
    </div>
    <div class="button-bar">
      <a href="#/donatemoney" class="button button-balanced button-block  icon ">Money</a>
      <a href="#/volunteer" class="button button-balanced button-block ">Time</a>
      <a href="#/supplylist" class="button button-balanced button-block ">Supplies</a>
    </div>
    <div>
      <h3 style="text-align: center">Share:</h3>
    </div>
    <div class="button-bar">
      <a href="http://www.twitter.com/KingJames" class="button button-calm button-block icon ion-social-twitter"></a>
      <a href="http://www.facebook.com/LeBron" class="button button-positive button-block icon ion-social-facebook"></a>
      <a href="http://www.instagram.com/kingjames/" class="button button-royal button-block icon ion-social-instagram"></a>
    </div>
    <button ng-if="campaign.isOwner" ng-click="deleteCampaign()" class="button button-assertive button-block ">Delete</button>
  </ion-content>
</ion-view>
